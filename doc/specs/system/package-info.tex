%% Copyright (C) 2009-2011, Gostai S.A.S.
%%
%% This software is provided "as is" without warranty of any kind,
%% either expressed or implied, including but not limited to the
%% implied warranties of fitness for a particular purpose.
%%
%% See the LICENSE file for more information.

\section{System.PackageInfo}
Information about \usdk and its components.

\subsection{Prototypes}
\begin{refObjects}
\item[Object]
\end{refObjects}

\subsection{Slots}
\begin{urbiscriptapi}
\item[bugReport] The address where to send bug reports.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].bugReport
  == "kernel-bugs@lists.gostai.com";
\end{urbiassert}


\item[components] A Dictionary of the components loaded in the package.  The
  component \lstinline|"Urbi SDK"| duplicates the component
  \lstinline|"Urbi"| for backward compatibility: prefer the latter.
\begin{urbiassert}
System.PackageInfo.components.keys
  == ["Libport", "Urbi", "Urbi SDK"];
System.PackageInfo.components["Urbi SDK"]
  == System.PackageInfo.components["Urbi"];
\end{urbiassert}


\item[copyrightHolder] Who owns the copyright of the package.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].copyrightHolder
  == "Gostai S.A.S.";
\end{urbiassert}


\item[copyrightYears] The years that the copyright covers.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].copyrightYears
  == "2004-2011";
\end{urbiassert}


\item[date] A string corresponding to the source date (day and time).
\begin{urbiassert}
System.PackageInfo.components["Urbi"].date.isA(String);
\end{urbiassert}


\item[day] The day part of the date string.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].day.isA(String);
\end{urbiassert}


\item[description] The complete description string, with slashes.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].description.isA(String);
\end{urbiassert}


\item[id] The identification string.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].id.isA(String);
\end{urbiassert}


\item[major] The major version component (see \refSlot{version}), for
  instance \lstinline|2|.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].major.isA(Float);
\end{urbiassert}


\item[minor] The minor version component (see \refSlot{version}), for
  instance \lstinline|7|.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].minor.isA(Float);
\end{urbiassert}


\item[name] The name of the package as a String.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].name
  == "Urbi";
\end{urbiassert}


\item[patch] The number of changes since the \refSlot{version}.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].patch.isA(Float);
\end{urbiassert}


\item[revision] The revision string.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].revision.isA(String);
\end{urbiassert}


\item[string] Name and version concatenated, for instance
  \lstinline|"Urbi 2.7.4"|.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].string.isA(String);
\end{urbiassert}


\item[subMinor] The sub-minor version component (see \refSlot{version}).
\begin{urbiassert}
// Urbi 2.7.4.
System.PackageInfo.components["Urbi"].subMinor
  == 4;
\end{urbiassert}


\item[tarballVersion] The complete version string, with dashes.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].tarballVersion.isA(String);
\end{urbiassert}


\item[tarname] Name of the tarball.
\begin{urbiassert}
System.PackageInfo.components["Urbi"].tarname
  == "urbi-sdk";
\end{urbiassert}


\item[version] The version string, such as \lstinline|"2.7"| or
  \lstinline|"2.7.4"|.
\begin{urbiscript}
do (System.PackageInfo.components["Urbi"])
{
  assert
  {
    version ==
      {
        if (subMinor)
          "%s.%s.%s" % [major, minor, subMinor]
        else
          "%s.%s" % [major, minor]
      };
  };
}|;
\end{urbiscript}


\item[versionRev] Version and revision together.
\begin{urbiscript}
do (System.PackageInfo.components["Urbi"])
{
  assert
  {
    versionRev
    == "version %s patch %s revision %s"
       % [version, patch, revision];
  };
}|;
\end{urbiscript}


\item[versionValue] The version as an integer, for instance 2007004 for
  2.7.4.
\begin{urbiscript}
do (System.PackageInfo.components["Urbi"])
{
  assert
  {
    versionValue == (major * 1e6 + minor * 1e3 + subMinor);
  };
}|;
\end{urbiscript}
\end{urbiscriptapi}

%%% Local Variables:
%%% coding: utf-8
%%% mode: latex
%%% TeX-master: "../../urbi-sdk"
%%% ispell-dictionary: "american"
%%% ispell-personal-dictionary: "../../urbi.dict"
%%% fill-column: 76
%%% End:
